apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: ingress-nginx
  annotations:
    kubernetes.io/ingress.class: nginx
spec:
  rules:
  - host: cmsweb-srv.web.cern.ch
    http:
      paths:
      - path: /httpgo
        backend:
          serviceName: httpgo
          servicePort: 8888
      - path: /httpsgo
        backend:
          serviceName: httpsgo
          servicePort: 443
      - path: /reqmgr2
        backend:
          serviceName: reqmgr2
          servicePort: 8246
      - path: /workqueue
        backend:
          serviceName: workqueue
          servicePort: 8240
      - path: /das
        backend:
          serviceName: das
          servicePort: 8217
      - path: /dbs/int/global/DBSMigrate
        backend:
          serviceName: dbs-migrate
          servicePort: 8251
      - path: /dbs/int/global/DBSReader
        backend:
          serviceName: dbs-global-r
          servicePort: 8252
      - path: /dbs/int/global/DBSWriter
        backend:
          serviceName: dbs-global-w
          servicePort: 8253
      - path: /dbs/int/phys03/DBSWriter
        backend:
          serviceName: dbs-phys03-w
          servicePort: 8254
      - path: /dbs/int/phys03/DBSWriter
        backend:
          serviceName: dbs-phys03-w
          servicePort: 8255
      - path: /
        backend:
          serviceName: couchdb
          servicePort: 5984
